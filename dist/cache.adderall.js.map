{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/cache.adderall.js"],"names":["addAll","cache","immutableRequests","arguments","length","undefined","mutableRequests","newStaticAssets","Promise","all","map","url","caches","match","then","response","put","push","resolve","concat","module","exports"],"mappings":"AAAA;ACUA,YAEA,IAAIA,QAAS,SAASC,GAAqD,GAA9CC,GAA8CC,UAAAC,QAAA,GAAAC,SAAAF,UAAA,MAAAA,UAAA,GAAtBG,EAAsBH,UAAAC,QAAA,GAAAC,SAAAF,UAAA,MAAAA,UAAA,GAIrEI,IACJ,OAAOC,SAAQC,IACbP,EAAkBQ,IAAI,SAASC,GAC7B,MAAOC,QAAOC,MAAMF,GAAKG,KAAK,SAASC,GACrC,MAAIA,GACKd,EAAMe,IAAIL,EAAKI,IAEtBR,EAAgBU,KAAKN,GACdH,QAAQU,gBAIrBJ,KAAK,WACL,MAAOb,GAAMD,OAAOO,EAAgBY,OAAOb,MAI/Cc,QAAOC,SACLrB,OAAYA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/*\n <!--\n cache.adderall()\n version : 0.1.0\n author  : Tal Ater @TalAter\n license : MIT\n https://github.com/TalAter/cache.adderall\n -->\n */\n\n\"use strict\";\n\nvar addAll = function(cache, immutableRequests = [], mutableRequests = []) {\n  // @TODO: Verify cache is a cache\n  // @TODO: Verify immutableRequests is an array\n  // @TODO: Verify mutableRequests is an array\n  var newStaticAssets = [];\n  return Promise.all(\n    immutableRequests.map(function(url) {\n      return caches.match(url).then(function(response) {\n        if (response) {\n          return cache.put(url, response);\n        } else {\n          newStaticAssets.push(url);\n          return Promise.resolve();\n        }\n      });\n    })\n  ).then(function() {\n    return cache.addAll(newStaticAssets.concat(mutableRequests));\n  });\n};\n\nmodule.exports = {\n  addAll:     addAll\n};\n"]}